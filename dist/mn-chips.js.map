{"version":3,"sources":["scripts/mn-chips.class.js"],"names":["MnChips","self","_this","_ret","_classCallCheck","this","input","querySelector","name","getAttribute","setAddEvents","setValue","_possibleConstructorReturn","value","placeholder","option","chips","insertAdjacentHTML","_this2","document","createElement","classList","add","appendChild","Array","from","querySelectorAll","forEach","removeChild","addChip","textContent","_this3","addEventListener","remove","event","indexOf","key","preventDefault","values","_this4","isArray","innerHTML","options","window","MnInput","customElements","define"],"mappings":"sxCAAMA,QAAAA,SAAAA,iBACJ,QAAAA,SAAYC,MAAM,GAAAC,OAAAC,IAQhB,OARgBC,iBAAAC,KAAAL,SAChBC,KAAAA,MAAAA,2BAAAA,MAAAA,QAAAA,WAAAA,OAAAA,eAAAA,UAAAA,KAAAA,KAAaA,OACbC,MAAKI,MAAQJ,MAAKK,cAAc,SAChCL,MAAKM,KAAON,MAAKO,aAAa,QAC9BP,MAAKQ,eAELR,MAAKS,WAELR,KAAOF,KAAPW,2BAAAV,MAAAC,oGAGMU,MAAOC,aACb,GAAID,MAAO,CACTC,YAAcA,YAAAA,eACKA,YACf,EAEJ,IAAMC,QAAAA,uDAEKF,MAFL,oBAGIR,KAAKG,KAHT,yCAKFM,YALE,WAONT,MAAKW,MAAMC,mBAAmB,YAAaF,QAC3CV,KAAKC,MAAMO,MAAQ,uCAIZ,GAAAK,QAAAb,IACTA,MAAKW,MAAQG,SAASC,cAAc,OACpCf,KAAKW,MAAMK,UAAUC,IAAI,UACzBjB,KAAKkB,YAAYlB,KAAKW,OAENQ,MAAMC,KAAKpB,KAAKqB,iBAAiB,WACzCC,QAAQ,SAAAZ,QACdG,OAAKU,YAAYb,QACjBG,OAAKW,QAAQd,OAAOF,MAAOE,OAAOe,sDAKvB,GAAAC,QAAA1B,IACbA,MAAKC,MAAM0B,iBAAiB,OAAQ,WAClCD,OAAKF,QAAQE,OAAKzB,MAAMO,OACxBkB,OAAKV,UAAUY,OAAO,eAGxB5B,KAAKC,MAAM0B,iBAAiB,UAAW,SAAAE,QAEnC,QACA,IACA,KAG2BC,QAAQD,MAAME,MAAQ,IAGjDL,OAAKF,QAAQE,OAAKzB,MAAMO,OACxBqB,MAAMG,gDAKFC,QAAQ,GAAAC,QAAAlC,IAChBiC,QAASd,MAAMgB,QAAQF,QACnBA,QACCA,QAELjC,KAAKW,MAAMyB,UAAY,GACvBH,OAAOX,QAAQ,SAAAd,OAAA,MAAS0B,QAAKV,QAAQhB,yBAIrC,GAAM6B,SAAUrC,KAAKE,cAAc,YACnC,OAAOmC,SACHA,QAAQ7B,sBA7EM8B,OAAOC,QAkF7BD,QAAOE,eAAeC,OAAO,WAAY9C","file":"mn-chips.js","sourcesContent":["class MnChips extends window.MnInput {\n  constructor(self) {\n    self = super(self)\n    this.input = this.querySelector('input')\n    this.name = this.getAttribute('name')\n    this.setAddEvents()\n\n    this.setValue()\n\n    return self\n  }\n\n  addChip(value, placeholder) {\n    if (value) {\n      placeholder = placeholder\n        ? `placeholder=${placeholder}`\n        : ''\n\n      const option = `<mn-option\n        class=\"natural\"\n        value=\"${value}\"\n        name=\"${this.name}\"\n        checked=\"checked\"\n        ${placeholder}\n      >`\n      this.chips.insertAdjacentHTML('beforeend', option)\n      this.input.value = ''\n    }\n  }\n\n  setValue() {\n    this.chips = document.createElement('div')\n    this.chips.classList.add('values')\n    this.appendChild(this.chips)\n\n    const options = Array.from(this.querySelectorAll('option'))\n    options.forEach(option => {\n      this.removeChild(option)\n      this.addChip(option.value, option.textContent)\n    })\n\n  }\n\n  setAddEvents() {\n    this.input.addEventListener('blur', () => {\n      this.addChip(this.input.value)\n      this.classList.remove('has-value')\n    })\n\n    this.input.addEventListener('keydown', event => {\n      const enterKeys = [\n        'Enter',\n        ',',\n        ' ',\n      ]\n\n      const isEnterKey = enterKeys.indexOf(event.key) > -1\n\n      if (isEnterKey) {\n        this.addChip(this.input.value)\n        event.preventDefault()\n      }\n    })\n  }\n\n  set value(values) {\n    values = Array.isArray(values)\n      ? values\n      : [values]\n\n    this.chips.innerHTML = ''\n    values.forEach(value => this.addChip(value))\n  }\n\n  get value() {\n    const options = this.querySelector('mn-option')\n    return options\n      ? options.value\n      : []\n  }\n}\n\nwindow.customElements.define('mn-chips', MnChips)\n"]}